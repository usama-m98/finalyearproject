{% extends 'layout.html.twig' %}
{% block title %}{{ page_title }}{% endblock %}
{% block content %}
    <header>
        <h1><a href="{{ landing_page }}">CustomPcSpecialists</a></h1>
    </header>

    <a href="{{ main_page }}">Go Back</a>
    <h2>{{ page_heading2 }}</h2>
    <div id="personal-details">
        <h3>Account Detail</h3>

        <div id="account-details">
            <div class="account-row">
                <label>username: {{ username }}</label>
                <a href="editusername">edit username</a>
            </div>
            <div class="account-row">
                <label>email: {{ email }}</label>
                <a href="editemail">edit email</a>
            </div>
            <div class="account-row">
                <label>password: *********</label>
                <a href="editpassword">edit password</a>
            </div>
        </div>

        <h3>Personal Detail</h3>

        {% if personal_info_exists == true %}
            <div id="personal-info">
                {% for details, info in personal_info %}
                    {% if details != 'customer_id' %}
                        <div class="account-row">
                            <label>{{ details }}: {{ info }}</label>
                        </div>
                    {% endif %}
                {% endfor %}
                <a href="updatepersonaldetails">Update Personal Details</a>
            </div>
        {% else %}
            <form action="{{ action }}" method="post">
                <span id="error_message">{{ message }}</span>

                <div class="account-row">
                    <label for="firstname">Enter Firstname:</label>
                    <input type="text" name="firstname" id="firstname">
                </div>
                <div class="account-row">
                    <label for="surname">Enter Surname:</label>
                    <input type="text" name="surname" id="surname">
                </div>
                <div class="account-row">
                    <label for="address">Enter Address:</label>
                    <input type="text" name="address" id="address">
                </div>
                <div class="account-row">
                    <label for="postcode">Enter Postcode:</label>
                    <input type="text" name="postcode" id="postcode">
                </div>
                <div class="account-row">
                    <label for="city">Enter City:</label>
                    <input type="text" name="city" id="city">
                </div>
                <div class="account-row">
                    <label for="phone-number">Enter Phone number:</label>
                    <input type="text" name="phone-number" id="phone-number">
                </div>
                <button type="submit" value="submit">Submit</button>
            </form>
        {% endif %}
    </div>
{% endblock %}